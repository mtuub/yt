name: Reusable
on:
  workflow_call:
    inputs:
      num_of_workers:
        required: true
        type: number
      remotion_entry_point:
        required: true
        type: string
      remotion_composition_id:
        required: true
        type: string
      video_name:
        required: true
        type: string

env:
  REMOTION_ENTRY_POINT: ${{inputs.remotion_entry_point}}
  REMOTION_COMPOSITION_ID: ${{inputs.remotion_composition_id}}
  NUM_OF_WORKERS: ${{inputs.num_of_workers}}
  VIDEO_NAME: ${{inputs.video_name}}

jobs:
  create-file:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: touch "${{env.VIDEO_NAME}}.txt"
      - uses: actions/upload-artifact@v3
        with:
          name: ${{env.VIDEO_NAME}}
          path: "${{env.VIDEO_NAME}}.txt"
