name: Test

on:
  push:
    branches: master
# jobs:
#   job1:
#     runs-on: ubuntu-latest
#     outputs:
#       matrix: ${{ steps.set-matrix.outputs.matrix }}
#     steps:
#       - id: set-matrix
#         run: cat signs.json >> $matrix

jobs:
  job1:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@main

      - name: Read signs.json
        id: package
        uses: juliangruber/read-file-action@v1
        with:
          path: ./signs.json

      - name: Set env variable
        run: echo "signs=\"${{ steps.package.outputs.content }}\"" >> $GITHUB_ENV

  job2:
    needs: job1
    runs-on: ubuntu-latest
    # strategy:
    #   matrix: ${{fromJson(needs.job1.outputs.package.outputs.content)}}
    steps:
      - run: echo ${{ env.signs }}
      # - run: echo "${{ needs.job1.package.outputs.content }}"
